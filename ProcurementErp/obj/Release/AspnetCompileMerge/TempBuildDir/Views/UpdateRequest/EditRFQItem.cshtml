@model IEnumerable<ProcurementErp.ViewModels.RFQITEMViewModel>
@{
    ViewBag.Title = "EditRFQItem";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
    int count = 0;
}

<div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header" id="RequestHistoryContainer">
        <h1>
            Update Request For Quotation
        </h1>
        <ol class="breadcrumb">
            <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
            <li class="">Update Request</li>
            <li class="active">RFQ</li>
        </ol>
    </section>
    <section class="content" id="Roles">
        <div class="row">
            <div class="col-md-12">
                <div class="box box-primary">
                    <div class="box-header with-border">
                        <p>
                            Enter Items and Description
                            @if (ViewBag.ErrorMessage != null)
                            {
                                <span class="text-uppercase text-danger">
                                    @ViewBag.ErrorMessage
                                </span>
                            }
                        </p>
                    </div>
                    <!--Req form II -->
                    <div class="box-body">
                        <div class="col-md-11 col-md-offset-1">
                            @using (Html.BeginForm("UpdateRFQItem", "UpdateRequest", FormMethod.Post, new { role = "form", enctype = "multipart/form-data", id = "NewRequestForm" }))
                            {
                                <div class="form-group col-md-12">
                                    <div class="box-body">
                                        <div class="col-md-12">
                                            <a href="#" class="btn btn-sm btn-success pull-right add"><i class="fa fa-plus"></i> Add Item</a><br /><br />
                                            <div class="clearfix"></div>
                                        </div>
                                        <table class="table table-bordered table-striped">
                                            <thead>
                                                <tr>
                                                    <th>S/N</th>
                                                    <th>Goods and Service Description</th>
                                                    <th>Unit of Measurement</th>
                                                    <th>Quantity</th>
                                                    <th>&nbsp;</th>
                                                </tr>
                                            </thead>
                                            <tbody id="ItemsInput">
                                                
                                                @foreach (var item in Model)
                                                {
                                                    <tr>
                                                        <td>@(count + 1) </td>
                                                        <td>
                                                        <input type="text" required value="@item.DESCRIPTION" name="item[@count].DESCRIPTION" class="form-control" /></td>
                                                        <td><input type="text"  value="@item.UNIT_OF_MEAS" name="item[@count].UNIT_OF_MEAS" class="form-control" /></td>
                                                        <td><input type="number" required value="@item.QUANTITY" name="item[@count].QUANTITY" class="form-control" />
                                                        <input type="hidden" value="@item.ITEM_NO" name="item[@count].ITEM_NO"/>
                                                        </td>
                                                        <td>&nbsp;</td>
                                                    </tr>
                                                    count++;
                                                }
                                                
                                            </tbody>
                                        </table>

                                    </div>

                                    <div class="form-group col-md-12 col-md-offset-3">
                                        <button type="submit" class="btn btn-primary">Submit</button>
                                    </div>
                                </div>
                                <!-- /.box-body -->
                            }
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </section>
</div>
@section scripts{
<script src="~/JsFiles/ItemAppender.js"></script>
}